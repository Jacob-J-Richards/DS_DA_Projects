theme(
axis.line = element_line(color = "black")
)
ggsave("ecenomickesslersyndrome.png", plot = last_plot(), width = 10, height = 6, dpi = 300)
setwd("/Users/jacobrichards/Desktop")
ggplot(data = approx_curve, aes(x = x, y = y)) +
geom_area(fill = "blue", alpha = 0.15) + # Fill area below the curve
geom_smooth(
method = "loess",
span = 0.5, # Adjust the span for more or less smoothing
color = "black",
size = 1,
se = FALSE
) + # Smoothed curve
geom_point(
aes(x = max_x_approx, y = max_y_approx, shape = "Maximum Point"),
color = "red",
size = 5
) + # Marker for max point
labs(
title = "Launches by Debris In Orbit",
x = "Debris(t)",
y = "Launches(t)"
) +
theme_minimal() +
theme(
axis.title = element_text(size = 12),
plot.title = element_text(size = 14, hjust = 0.5),
axis.text.x = element_blank(), # Remove x-axis labels
axis.text.y = element_blank(), # Remove y-axis labels
axis.ticks.x = element_blank(), # Remove x-axis ticks
axis.ticks.y = element_blank(), # Remove y-axis ticks
panel.grid = element_blank(),  # Remove all grid lines
legend.position = "top" # Position legend at the top
) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(limits = c(0, max(approx_curve$y) + 0.4), expand = c(0, 0)) + # Extend y-axis limits
scale_shape_manual(
values = 17, # Set the shape to a triangle
name = "Legend", # Legend title
labels = c("Economic Kessler Syndrome") # Label for the blue triangle
) +
guides(shape = guide_legend(override.aes = list(color = "red", size = 3))) + # Customize legend appearance
theme(
axis.line = element_line(color = "black")
)
ggsave("ecenomickesslersyndrome.png", plot = last_plot(), width = 10, height = 6, dpi = 300)
setwd("/Users/jacobrichards/Desktop")
ggplot(data = approx_curve, aes(x = x, y = y)) +
geom_area(fill = "blue", alpha = 0.25) + # Fill area below the curve
geom_smooth(
method = "loess",
span = 0.5, # Adjust the span for more or less smoothing
color = "black",
size = 1,
se = FALSE
) + # Smoothed curve
geom_point(
aes(x = max_x_approx, y = max_y_approx, shape = "Maximum Point"),
color = "red",
size = 5
) + # Marker for max point
labs(
title = "Launches by Debris In Orbit",
x = "Debris(t)",
y = "Launches(t)"
) +
theme_minimal() +
theme(
axis.title = element_text(size = 12),
plot.title = element_text(size = 14, hjust = 0.5),
axis.text.x = element_blank(), # Remove x-axis labels
axis.text.y = element_blank(), # Remove y-axis labels
axis.ticks.x = element_blank(), # Remove x-axis ticks
axis.ticks.y = element_blank(), # Remove y-axis ticks
panel.grid = element_blank(),  # Remove all grid lines
legend.position = "top" # Position legend at the top
) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(limits = c(0, max(approx_curve$y) + 0.4), expand = c(0, 0)) + # Extend y-axis limits
scale_shape_manual(
values = 17, # Set the shape to a triangle
name = "Legend", # Legend title
labels = c("Economic Kessler Syndrome") # Label for the blue triangle
) +
guides(shape = guide_legend(override.aes = list(color = "red", size = 3))) + # Customize legend appearance
theme(
axis.line = element_line(color = "black")
)
ggsave("ecenomickesslersyndrome.png", plot = last_plot(), width = 10, height = 6, dpi = 300)
setwd("/Users/jacobrichards/Desktop")
ggplot(data = approx_curve, aes(x = x, y = y)) +
geom_area(fill = "blue", alpha = 0.25) + # Fill area below the curve
geom_smooth(
method = "loess",
span = 0.5, # Adjust the span for more or less smoothing
color = "black",
size = 1,
se = FALSE
) + # Smoothed curve
geom_point(
aes(x = max_x_approx, y = max_y_approx, shape = "Maximum Point"),
color = "red",
size = 5
) + # Marker for max point
labs(
title = "Launches by Debris In Orbit",
x = "Debris(t)",
y = "Launches(t)"
) +
theme_minimal() +
theme(
axis.title = element_text(size = 12),
plot.title = element_text(size = 14, hjust = 0.5),
axis.text.x = element_blank(), # Remove x-axis labels
axis.text.y = element_blank(), # Remove y-axis labels
axis.ticks.x = element_blank(), # Remove x-axis ticks
axis.ticks.y = element_blank(), # Remove y-axis ticks
panel.grid = element_blank(),  # Remove all grid lines
legend.position = "top" # Position legend at the top
) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(limits = c(0, max(approx_curve$y) + 0.4), expand = c(0, 0)) + # Extend y-axis limits
scale_shape_manual(
values = 17, # Set the shape to a triangle
name = "Legend", # Legend title
labels = c("Economic Kessler Syndrome") # Label for the blue triangle
) +
guides(shape = guide_legend(override.aes = list(color = "red", size = 3))) + # Customize legend appearance
theme(
axis.line = element_line(color = "black")
)
ggsave("ecenomickesslersyndrome.png", plot = last_plot(), width = 10, height = 6, dpi = 300)
setwd("/Users/jacobrichards/Desktop")
ggplot(data = approx_curve, aes(x = x, y = y)) +
geom_area(fill = "blue", alpha = 0.25) + # Fill area below the curve
geom_smooth(
method = "loess",
span = 0.5, # Adjust the span for more or less smoothing
color = "black",
size = 1,
se = FALSE
) + # Smoothed curve
geom_point(
aes(x = max_x_approx, y = max_y_approx, shape = "Maximum Point"),
color = "red",
size = 5
) + # Marker for max point
labs(
title = "Launches by Debris In Orbit",
x = "Debris(t)",
y = "Launches(t)"
) +
theme_minimal() +
theme(
axis.title = element_text(size = 18),
plot.title = element_text(size = 20, hjust = 0.5),
axis.text.x = element_blank(), # Remove x-axis labels
axis.text.y = element_blank(), # Remove y-axis labels
axis.ticks.x = element_blank(), # Remove x-axis ticks
axis.ticks.y = element_blank(), # Remove y-axis ticks
panel.grid = element_blank(),  # Remove all grid lines
legend.position = "top" # Position legend at the top
) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(limits = c(0, max(approx_curve$y) + 0.4), expand = c(0, 0)) + # Extend y-axis limits
scale_shape_manual(
values = 17, # Set the shape to a triangle
name = "Legend", # Legend title
labels = c("Economic Kessler Syndrome") # Label for the blue triangle
) +
guides(shape = guide_legend(override.aes = list(color = "red", size = 3))) + # Customize legend appearance
theme(
axis.line = element_line(color = "black")
)
ggsave("ecenomickesslersyndrome.png", plot = last_plot(), width = 10, height = 6, dpi = 300)
nrow(less_10_rent_changed_did_not_renewed)
nrow(less_10_rent_changed_renewed)
(nrow(did_not_renew)/nrow(data))
(nrow(did_not_renew)/nrow(data))
(nrow(did_not_renew)/nrow(data))
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
did_renew <- data[data[,18] == 1, ]
#rows that did not renew
did_not_renew <- data[data[,18] == 0, ]
less_10_rent_changed <- data[data[,2] == 0,]
(nrow(did_not_renew)/nrow(data))
#late payments equals one means that the tenant has never been late on making a payment.
less_10_rent_changed_renewed <- less_10_rent_changed[less_10_rent_changed[,18] == 1, ]
less_10_rent_changed_did_not_renewed <- less_10_rent_changed[less_10_rent_changed[,18] == 0, ]
rent_did_not_increase_did_not_renew <- did_not_renew[ ,  ]
cat("Percentage that did renew:", nrow(less_10_rent_changed_renewed) / nrow(less_10_rent_changed), "\n")
cat("Percentage that did not renew:", nrow(less_10_rent_changed_did_not_renewed) / nrow(less_10_rent_changed), "\n")
library(epitools)
rent_did_not_increase_did_not_renew <- did_not_renew[did_not_renew[,1] == 1 ,  ]
nrow(rent_did_not_increase_did_not_renew)
did_not_renew
less_10_rent_changed_renewed <- less_10_rent_changed[less_10_rent_changed[,18] == 1, ]
less_10_rent_changed_did_not_renewed <- less_10_rent_changed[less_10_rent_changed[,18] == 0, ]
rent_did_not_increase_did_not_renew <- did_not_renew[did_not_renew[,2] == 1 ,  ]
nrow(rent_did_not_increase_did_not_renew)
cat("Percentage that did renew:", nrow(less_10_rent_changed_renewed) / nrow(less_10_rent_changed), "\n")
cat("Percentage that did not renew:", nrow(less_10_rent_changed_did_not_renewed) / nrow(less_10_rent_changed), "\n")
library(epitools)
nrow(rent_did_not_increase_did_not_renew)
nrow(rent_did_not_increase_did_not_renew)
rent_did_not_increase_did_renew <- did_renew[did_renew[,2] == 1]
rent_did_not_increase_did_renew <- did_renew[did_renew[,2] == 1, ]
nrow(rent_did_not_increase_did_renew)
install.packages('epitools')
library(epitools)
install.packages("epitools")
install.packages('epitools')
library(epitools)
intersect(row.names(there_was_rent_change),row.names(did_not_renew))
#rows that did renew
did_renew <- data[data[,18] == 1, ]
#rows that did not renew
did_not_renew <- data[data[,18] == 0, ]
#any rent change at all
there_was_any_rent_change <- data[data[,2] == 0,]
#there was no rent change at all
there_was_rent_change <- data[data[,2] == 1]
#rows that did renew
did_renew <- data[data[,18] == 1, ]
#rows that did not renew
did_not_renew <- data[data[,18] == 0, ]
#any rent change at all
there_was_any_rent_change <- data[data[,2] == 0,]
#there was no rent change at all
there_was_rent_change <- data[data[,2] == 1,]
intersect(row.names(there_was_rent_change),row.names(did_not_renew))
length(intersect(row.names(there_was_rent_change),row.names(did_not_renew)))
matrix(nrow=2,ncol=2)
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW))
#rows that did renew
RENEW <- data[data[,18] == 1, ]
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- intersect(row.names(RENT_INCREASE),row.names(RENEW))
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
install.packages('epitools')
library(epitools)
oddsratio(data)
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
data
install.packages('epitools')
library(epitools)
oddsratio(data)
data
install.packages('epitools')
library(epitools)
oddsratio(data)
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
install.packages('epitools')
library(epitools)
oddsratio(data)
#              Yes   No
# Exposed      a     b
# Not Exposed  c     d
a <- data[1,1]  # Exposed with outcome
b <- data[1,2]  # Exposed without outcome
c <- data[2,1]  # Not exposed with outcome
d <- data[2,2]  # Not exposed without outcome
# Calculate the risk in each group
risk_exposed <- a / (a + b)
risk_unexposed <- c / (c + d)
# Calculate the risk ratio
risk_ratio <- risk_exposed / risk_unexposed
# Output the risk ratio
risk_ratio
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
#              Yes   No
# Exposed      a     b
# Not Exposed  c     d
a <- data[1,1]  # Exposed with outcome
b <- data[1,2]  # Exposed without outcome
c <- data[2,1]  # Not exposed with outcome
d <- data[2,2]  # Not exposed without outcome
# Calculate the risk in each group
risk_exposed <- a / (a + b)
risk_unexposed <- c / (c + d)
# Calculate the risk ratio
risk_ratio <- risk_exposed / risk_unexposed
# Output the risk ratio
risk_ratio
#             Disease
#              Yes   No
# Exposed      a     b
# Not Exposed  c     d
a <- data[1,1]  # Exposed with outcome
b <- data[1,2]  # Exposed without outcome
c <- data[2,1]  # Not exposed with outcome
d <- data[2,2]  # Not exposed without outcome
# Calculate the risk in each group
risk_exposed <- a / (a + b)
risk_unexposed <- c / (c + d)
# Calculate the risk ratio
risk_ratio <- risk_exposed / risk_unexposed
# Output the risk ratio
Cat("Given that your rent increased, you are", risk_ratio, "more likely to not rewer")
#             Disease
#              Yes   No
# Exposed      a     b
# Not Exposed  c     d
a <- data[1,1]  # Exposed with outcome
b <- data[1,2]  # Exposed without outcome
c <- data[2,1]  # Not exposed with outcome
d <- data[2,2]  # Not exposed without outcome
# Calculate the risk in each group
risk_exposed <- a / (a + b)
risk_unexposed <- c / (c + d)
# Calculate the risk ratio
risk_ratio <- risk_exposed / risk_unexposed
# Output the risk ratio
cat("Given that your rent increased, you are", risk_ratio, "more likely to not rewer")
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
#             Disease
#              Yes   No
# Exposed      a     b
# Not Exposed  c     d
a <- data[1,1]  # Exposed with outcome
b <- data[1,2]  # Exposed without outcome
c <- data[2,1]  # Not exposed with outcome
d <- data[2,2]  # Not exposed without outcome
# Calculate the risk in each group
risk_exposed <- a / (a + b)
risk_unexposed <- c / (c + d)
# Calculate the risk ratio
risk_ratio <- risk_exposed / risk_unexposed
# Output the risk ratio
cat("Given that your rent increased, the probability that you do not renew your lease is", risk_ratio, "greater than if your rent had not increased. ")
install.packages("fmsb")
library(fmsb)
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
riskratio(data[1,1], data[2,1], nrow(RENT_INCREASE), NO_RENT_INCREASE, conf.level=0.95, p.calc.by.independence=TRUE)
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
riskratio(data[1,1], data[2,1], nrow(RENT_INCREASE), NO_RENT_INCREASE, conf.level=0.95, p.calc.by.independence=TRUE)
data[1,1]
data[2,1]
nrow(RENT_INCREASE)
NO_RENT_INCREASE
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
riskratio(data[1,1], data[2,1], nrow(RENT_INCREASE), nrow(NO_RENT_INCREASE), conf.level=0.95, p.calc.by.independence=TRUE)
data[1,1] <- length(intersect(row.names(RENT_INCREASE_10),row.names(NOT_RENEW)))
setwd("/Users/jacobrichards/Desktop/DS_DA_Projects/Renewal_Response")
data <- read.csv(file="lease_renewal.csv",header=TRUE)
data
#rows that did renew
RENEW <- data[data[,18] == 1, ]
#rows that did not renew
NOT_RENEW <- data[data[,18] == 0, ]
#any rent change at all
RENT_INCREASE <- data[data[,2] == 0,]
#rent increased 10 percent
RENT_INCREASE_10 <- data[data[,3] == 1,]
#rent increased 20 percent
RENT_INCREASE_20 <- data[data[,4] == 1,]
#there was no rent change at all
NO_RENT_INCREASE <- data[data[,2] == 1,]
data <- matrix(nrow=2,ncol=2)
data[1,1] <- length(intersect(row.names(RENT_INCREASE),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE),row.names(RENEW)))
data[2,1] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(NOT_RENEW)))
data[2,2] <- length(intersect(row.names(NO_RENT_INCREASE),row.names(RENEW)))
riskratio(data[1,1], data[2,1], nrow(RENT_INCREASE), nrow(NO_RENT_INCREASE), conf.level=0.95, p.calc.by.independence=TRUE)
data[1,1] <- length(intersect(row.names(RENT_INCREASE_10),row.names(NOT_RENEW)))
data[1,2] <- length(intersect(row.names(RENT_INCREASE_10),row.names(RENEW)))
riskratio(data[1,1], data[2,1], nrow(RENT_INCREASE), nrow(NO_RENT_INCREASE), conf.level=0.95, p.calc.by.independence=TRUE)
